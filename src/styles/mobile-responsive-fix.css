/* iPhone 12 Pro およびモバイルデバイス向けの白いブロック問題対応CSS */
/* 
 * Material-UIの自動生成クラス .css-6f8tw6 の max-height プロパティを
 * モバイルでのみオーバーライドして白いブロック問題を解決
 */

@media (max-width: 768px) {
    .css-6f8tw6 {
        /* 元々の設定: max-height: calc(-200px + 100vh); を上書き */
        max-height: 100vh !important;

        /* 追加の調整でスクロール動作を改善 */
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;

        /* iOS Safariの安全エリア対応 */
        padding-bottom: max(4rem, env(safe-area-inset-bottom)) !important;
    }
}

/* より小さなスクリーンサイズ（iPhone SE等）向けの追加対応 */
@media (max-width: 480px) {
    .css-6f8tw6 {
        max-height: 100vh !important;
        /* ボトムナビゲーションが削除されたため、高さ制限を削除 */
        min-height: auto !important;
        padding-bottom: max(6rem, env(safe-area-inset-bottom)) !important;
    }
}

/* 横向き表示時の対応 */
@media (max-width: 768px) and (orientation: landscape) {
    .css-6f8tw6 {
        max-height: 100vh !important;
        min-height: auto !important;
        padding-bottom: max(4rem, env(safe-area-inset-bottom)) !important;
    }
}

/* ライトモード時の追加修正 */
@media (max-width: 768px) {

    /* スクロール動作の改善 */
    body {
        -webkit-overflow-scrolling: touch !important;
        /* iOS Safari の自動UI隠し機能を無効化 */
        position: fixed;
        position: relative;
        overflow-x: hidden;
    }

    /* Material-UIコンテナの改善 */
    .MuiBox-root {
        -webkit-overflow-scrolling: touch;
    }

    /* スクロールバー非表示（iOS Safari対応） */
    ::-webkit-scrollbar {
        display: none;
        width: 0;
        background: transparent;
    }

    /* モバイルヘッダーを確実に固定 */
    [data-mui-internal-clone-element] {
        position: sticky !important;
        top: 0 !important;
        z-index: 1000 !important;
        -webkit-transform: translateZ(0) !important;
        transform: translateZ(0) !important;
    }

    /* iOS Safari の viewport meta tag効果を強制 */
    html {
        position: fixed;
        position: relative;
        height: 100%;
        width: 100%;
        overflow: hidden;
        overflow: auto;
    }
}